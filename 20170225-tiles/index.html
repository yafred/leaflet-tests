<!DOCTYPE html>
<html>
<head>
	<meta http-equiv="X-UA-Compatible" content="IE=edge,chrome=1">
	<meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
	<meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=no" />
	
	<title>Leaflet tests</title>
	
	<script src="http://unpkg.com/leaflet@1.0.2/dist/leaflet.js"></script>
	<link rel="stylesheet" href="https://unpkg.com/leaflet@1.0.2/dist/leaflet.css" />
	
</head>
<body>


    <div id="map1" style="height:400px; width:600px; margin-bottom: 20px;"></div>
    <p>Move the map, check result ... </p>
    <p id="result"></p>
    <script type="text/javascript">
        var map1 = L.map('map1').setView([48.850258, 2.351074], 11);
    	// create the tile layer with correct attribution
    	L.tileLayer('https://a.tile.openstreetmap.org/{z}/{x}/{y}.png', {
        	attribution: '&copy; <a href="http://www.openstreetmap.org/copyright">OpenStreetMap</a> contributors'
    	}).addTo(map1);
    	
    	map1.on('moveend',function(e) {
    		var zoom = map1.getZoom();
	   		var bounds = map1.getBounds();
    		var west = bounds.getWest();
    		var south = bounds.getSouth();
    		var east = bounds.getEast();
    		var north = bounds.getNorth();
    		
     		document.getElementById("result").innerHTML += '<a href="https://a.tile.openstreetmap.org/' + createTile(map1.getCenter().lat, map1.getCenter().lng, zoom) + '.png">center tile (zoom ' + zoom + ')</a>  ';
     		document.getElementById("result").innerHTML += '<a href="https://a.tile.openstreetmap.org/' + createTile(north, west, zoom) + '.png">north/west tile (zoom ' + zoom + ')</a>  ';
     		document.getElementById("result").innerHTML += '<a href="https://a.tile.openstreetmap.org/' + createTile(south, east, zoom) + '.png">south/east tile (zoom ' + zoom + ')</a> <br/>';
     		document.getElementById("result").innerHTML += '<a href="https://a.tile.openstreetmap.org/' + createTile(map1.getCenter().lat, map1.getCenter().lng, 8) + '.png">center tile (zoom 8)</a>  ';
     		document.getElementById("result").innerHTML += '<a href="https://a.tile.openstreetmap.org/' + createTile(north, west, 8) + '.png">north/west tile (zoom 8)</a>  ';
     		document.getElementById("result").innerHTML += '<a href="https://a.tile.openstreetmap.org/' + createTile(south, east, 8) + '.png">south/east tile (zoom 8)</a><br/>';
         });
 
    	function long2tile(lon,zoom) { return (Math.floor((lon+180)/360*Math.pow(2,zoom))); }
    	function lat2tile(lat,zoom)  { return (Math.floor((1-Math.log(Math.tan(lat*Math.PI/180) + 1/Math.cos(lat*Math.PI/180))/Math.PI)/2 *Math.pow(2,zoom))); }
    	
    	function createTile(lat, lon, zoom) { return "" + zoom + "/" + long2tile(lon, zoom) + "/" + lat2tile(lat, zoom); }
 
    </script>

    


	<!-- analytics -->
    <script>
if(window.location.hostname != "localhost") {
(function(i,s,o,g,r,a,m){i['GoogleAnalyticsObject']=r;i[r]=i[r]||function(){
(i[r].q=i[r].q||[]).push(arguments)},i[r].l=1*new Date();a=s.createElement(o),
m=s.getElementsByTagName(o)[0];a.async=1;a.src=g;m.parentNode.insertBefore(a,m)
})(window,document,'script','https://www.google-analytics.com/analytics.js','ga');

ga('create', 'UA-21317761-7', 'auto');
ga('send', 'pageview');
}
    </script>
</body>